# üöÄ GitHub Actions Workflows

–¶–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –º—ñ—Å—Ç–∏—Ç—å –Ω–∞–±—ñ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏—Ö workflow'—ñ–≤ –¥–ª—è CI/CD –ø—Ä–æ—Ü–µ—Å—ñ–≤.

## üìã –°–ø–∏—Å–æ–∫ Workflows

### 1. üöÄ Deploy to GitHub Pages (`deploy.yml`)
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –û—Å–Ω–æ–≤–Ω–∏–π workflow –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é –Ω–∞ GitHub Pages

**–¢—Ä–∏–≥–µ—Ä–∏:**
- Push —É –≥—ñ–ª–∫—É `main`
- Pull Request –¥–æ `main`
- –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ (`workflow_dispatch`)

**–î–∂–æ–±–∏:**
- üî® **Build** - –ó–±—ñ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç—É –∑ lint –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é
- üöÄ **Deploy** - –î–µ–ø–ª–æ–π –Ω–∞ GitHub Pages
- üóÑÔ∏è **Migrate** - –í–∏–∫–æ–Ω–∞–Ω–Ω—è Supabase –º—ñ–≥—Ä–∞—Ü—ñ–π
- üì¢ **Notify** - –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–ø–ª–æ—é

### 2. üîç PR Check (`pr-check.yml`)
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —è–∫–æ—Å—Ç—ñ –∫–æ–¥—É –≤ Pull Request'–∞—Ö

**–¢—Ä–∏–≥–µ—Ä–∏:**
- –í—ñ–¥–∫—Ä–∏—Ç—Ç—è PR
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è PR
- –ü–æ–≤—Ç–æ—Ä–Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è PR

**–î–∂–æ–±–∏:**
- üß™ **Code Quality Check** - Lint —Ç–∞ –∑–±—ñ—Ä–∫–∞
- üìù **TypeScript Check** - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—ñ–≤
- üóÑÔ∏è **Migration Validation** - –í–∞–ª—ñ–¥–∞—Ü—ñ—è SQL –º—ñ–≥—Ä–∞—Ü—ñ–π
- üìä **Bundle Size Analysis** - –ê–Ω–∞–ª—ñ–∑ —Ä–æ–∑–º—ñ—Ä—É –∑–±—ñ—Ä–∫–∏

### 3. üßπ Cleanup (`cleanup.yml`)
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤

**–¢—Ä–∏–≥–µ—Ä–∏:**
- –†–æ–∑–∫–ª–∞–¥: —â–æ–¥–Ω—è –æ 2:00 UTC
- –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫

**–î–∂–æ–±–∏:**
- üóëÔ∏è **Cleanup Build Artifacts** - –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤ (>7 –¥–Ω—ñ–≤)
- üßΩ **Cleanup Caches** - –û—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –∫–µ—à—ñ–≤ (>7 –¥–Ω—ñ–≤)
- üîÑ **Cleanup Old Workflow Runs** - –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –ø—Ä–æ–≥–æ–Ω—ñ–≤ (>30 –¥–Ω—ñ–≤)

### 4. üö® Hotfix Deploy (`hotfix-deploy.yml`)
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ï–∫—Å—Ç—Ä–µ–Ω–∏–π –¥–µ–ø–ª–æ–π –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å

**–¢—Ä–∏–≥–µ—Ä–∏:**
- –¢—ñ–ª—å–∫–∏ —Ä—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `reason` - –ü—Ä–∏—á–∏–Ω–∞ –µ–∫—Å—Ç—Ä–µ–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é
- `skip_tests` - –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏ (–¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤)
- `environment` - –°–µ—Ä–µ–¥–æ–≤–∏—â–µ (production/staging)

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è GitHub Pages

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É **Settings** ‚Üí **Pages**
2. –í **Source** –≤–∏–±–µ—Ä—ñ—Ç—å **GitHub Actions**
3. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Secrets

–£ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions** –¥–æ–¥–∞–π—Ç–µ:

#### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ secrets:
```
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
```

#### –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ secrets (–¥–ª—è Supabase –º—ñ–≥—Ä–∞—Ü—ñ–π):
```
SUPABASE_ACCESS_TOKEN=your-access-token
SUPABASE_PROJECT_REF=your-project-ref
SUPABASE_DB_PASSWORD=your-db-password
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Environment

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É **Settings** ‚Üí **Environments**
2. –°—Ç–≤–æ—Ä—ñ—Ç—å environment **github-pages**
3. –î–æ–¥–∞–π—Ç–µ –∑–∞—Ö–∏—Å—Ç –≥—ñ–ª–∫–∏ –¥–ª—è `main`

## üéØ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –ó–≤–∏—á–∞–π–Ω–∏–π –¥–µ–ø–ª–æ–π
1. –ó—Ä–æ–±—ñ—Ç—å push —É –≥—ñ–ª–∫—É `main`
2. Workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è
3. –°–∞–π—Ç –±—É–¥–µ –æ–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ GitHub Pages

### Pull Request
1. –°—Ç–≤–æ—Ä—ñ—Ç—å PR –¥–æ `main`
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É
3. –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤ **Checks**

### –ï–∫—Å—Ç—Ä–µ–Ω–∏–π –¥–µ–ø–ª–æ–π
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É **Actions** ‚Üí **Hotfix Deploy**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Run workflow**
3. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –ø—Ä–∏—á–∏–Ω—É —Ç–∞ –æ–±–µ—Ä—ñ—Ç—å —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å workflow

### –†—É—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É **Actions** ‚Üí **Cleanup**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Run workflow**
3. –ü–æ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—é
- –ó–µ–ª–µ–Ω–∞ –≥–∞–ª–æ—á–∫–∞ ‚úÖ - –£—Å–ø—ñ—à–Ω–∏–π –¥–µ–ø–ª–æ–π
- –ß–µ—Ä–≤–æ–Ω–∏–π —Ö—Ä–µ—Å—Ç–∏–∫ ‚ùå - –ü–æ–º–∏–ª–∫–∞ –¥–µ–ø–ª–æ—é
- –ñ–æ–≤—Ç–µ –∫–æ–ª–æ üü° - –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ—Ü–µ—Å—ñ

### –õ–æ–≥–∏
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É **Actions**
2. –í–∏–±–µ—Ä—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω–∏–π workflow run
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –¥–∂–æ–± –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –ª–æ–≥—ñ–≤

### –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è
- –£—Å–ø—ñ—à–Ω–∏–π –¥–µ–ø–ª–æ–π: URL —Å–∞–π—Ç—É –≤ –ª–æ–≥–∞—Ö
- –ü–æ–º–∏–ª–∫–∞ –¥–µ–ø–ª–æ—é: –î–µ—Ç–∞–ª—ñ –ø–æ–º–∏–ª–∫–∏ –≤ –ª–æ–≥–∞—Ö
- –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Issue

## üõ†Ô∏è –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

### –ß–∞—Å—Ç—ñ –ø—Ä–æ–±–ª–µ–º–∏

#### 1. –ü–æ–º–∏–ª–∫–∞ –∑–±—ñ—Ä–∫–∏
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
npm ci
npm run lint
npm run build
```

#### 2. –ü–æ–º–∏–ª–∫–∞ –¥–µ–ø–ª–æ—é
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è GitHub Pages
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ —Å–µ–∫—Ä–µ—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ permissions –¥–ª—è workflow

#### 3. –ü–æ–º–∏–ª–∫–∞ Supabase
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ SUPABASE_* secrets
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ CLI –º–∞—î –¥–æ—Å—Ç—É–ø
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –º—ñ–≥—Ä–∞—Ü—ñ–π

### –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –õ–æ–∫–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
npm run lint
npm run build
npm run preview

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º—ñ–≥—Ä–∞—Ü—ñ–π
supabase db diff
supabase db push --dry-run
```

## üîí –ë–µ–∑–ø–µ–∫–∞

### –ó–∞—Ö–∏—Å—Ç secrets
- –ù—ñ–∫–æ–ª–∏ –Ω–µ –ª–æ–≥—É–π—Ç–µ secrets —É workflow
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `${{ secrets.NAME }}`
- –û–±–º–µ–∂—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ environment

### Branch protection
–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è `main`:
- ‚úÖ Require pull request reviews
- ‚úÖ Require status checks to pass
- ‚úÖ Require up-to-date branches
- ‚úÖ Include administrators

## üìà –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

### –ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –∑–±—ñ—Ä–∫–∏
- ‚úÖ –ö–µ—à—É–≤–∞–Ω–Ω—è dependencies
- ‚úÖ –ü–∞—Ä–∞–ª–µ–ª—å–Ω—ñ –¥–∂–æ–±–∏
- ‚úÖ –£–º–æ–≤–Ω—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

### –ï–∫–æ–Ω–æ–º—ñ—è —Ä–µ—Å—É—Ä—Å—ñ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è
- ‚úÖ –û–±–º–µ–∂–µ–Ω–Ω—è concurrent runs
- ‚úÖ Continue-on-error –¥–ª—è –Ω–µ—Å—É—Ç—Ç—î–≤–∏—Ö –ø–æ–º–∏–ª–æ–∫

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ workflow
2. –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ Issues –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
3. –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –∫–æ–º–∞–Ω–¥–∏ —Ä–æ–∑—Ä–æ–±–∫–∏

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é GitHub Actions** üöÄ